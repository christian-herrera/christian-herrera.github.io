<!-- 
Cifrado de archivos con GnuPG y Yubikey
  - gpg -o config.txt -r $encID --encrypt config_original.txt 
-->

<!DOCTYPE html>
<html lang="es">
    <head>
        <title>Christian Herrera</title>
        <meta charset="utf-8" />
        <link rel="icon" href="/assets/icons/icon.png" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="/assets/css/main.css" />
        <noscript>
            <link rel="stylesheet" href="/assets/css/noscript.css" />
        </noscript>
    </head>

    <body class="is-preload landing">
        <div id="page-wrapper">
            <!-- Header -->
            <header id="header">
                <h1 id="logo">
                    <a href="/index.html" style="font-style: italic">Christian Herrera</a>
                </h1>
                <nav id="nav">
                    <!-- ======== TEMARIO ======== -->
                    <ul>
                        <li><a href="/index.html">Home</a></li>
                        <li>
                            <a href="/settings">Contenido</a>
                            <ul>
                                <li><a href="#gnupg">GnuPG</a></li>
                                <li><a href="#conexion-ssh">SSH</a></li>
                                <li><a href="#github">GitHub</a></li>
                                <li>
                                    <a href="#terminales">Terminales</a>
                                    <ul>
                                        <li>
                                            <a href="#powershell">PowerShell</a>
                                        </li>
                                        <li><a href="#bash">Bash</a></li>
                                    </ul>
                                </li>
                                <li><a href="#ssh-server">SSH-Server</a></li>
                                <li>
                                    <a href="#firmas-thunderbird">Firmas Thunderbird</a>
                                </li>
                                <li>
                                    <a href="#firma-digital">Firma Digital</a>
                                </li>
                                <li>
                                    <a href="#auriculares">KZ Pr1 Pro</a>
                                </li>
                                <li>
                                    <a href="#prusaslicer">PrusaSlicer</a>
                                </li>
                                <li>
                                    <a href="#vscode">Visual Studio Code</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="mailto:christian.herrera@ing.unlp.edu.ar" class="button primary">Escríbeme!</a>
                        </li>
                    </ul>
                    <!-- ========================= -->
                </nav>
            </header>

            <!-- Main -->
            <div id="main" class="wrapper style1">
                <div class="container">
                    <header class="major">
                        <h2>Configuraciones Generales</h2>
                        <p>Para uso cotidiano</p>
                    </header>

                    <section id="content">
                        <!-- GnuPG -->
                        <h2 id="gnupg">GnuPG</h2>
                        <p>Configuraciones para Windows:</p>
                        <ul>
                            <li><span style="font-weight: bold">En Windows</span>: <code>%APPDATA%/gnupg/*</code></li>
                            <ul>
                                <li>
                                    Instalar: <a href="https://www.gnupg.org/download/" target="_blank" rel="noopener noreferrer">Gpg4Win</a> (La versión
                                    <span class="text-italic">Full featured Windows version of GnuPG</span>)
                                </li>
                                <li>Usar <code>gpg -k --with-keygrip</code> para obtener el Keygrip de las llaves a utilizar</li>
                                <li>Configurar los archivos (cargando el keygrip correspondiente en <span class="text-italic">sshcontrol</span>)</li>
                                <li>Eliminar la variable <code>SSH_AUTH_SOCK</code> utilizando: <code>Remove-Item Env:/SSH_AUTH_SOCK</code></li>
                                <li>Verificar las claves con <code>ssh-add -L</code> o <code>ssh-add -l</code></li>
                            </ul>
                        </ul>
                        <table class="table-css">
                            <thead>
                                <tr>
                                    <td>Setting</td>
                                    <td>Link</td>
                                    <td>Copiado Rápido</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <code>gpg.conf</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('gpg.conf.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('gpg.conf.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('gpg.conf.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>scdaemon.conf</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('scdaemon.conf.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('scdaemon.conf.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('scdaemon.conf.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>gpg-agent.conf</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('gpg-agent.conf.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('gpg-agent.conf.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('gpg-agent.conf.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td><code>sshcontrol</code> <br /><span class="text-italic" style="font-size: 0.8rem">(Guardar con UTF-8 y agregando el salto de linea al final)</span></td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('sshcontrol.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('sshcontrol.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('sshcontrol.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <br /><br />
                        <h3 id="gnupg">Algunos comandos útiles</h3>
                        <ul>
                            <li><code>gpgconf --kill all</code>: Finaliza todos los procesos de GnuPG.</li>
                            <li><code>gpgconf --launch all</code>: Inicia todos los procesos de GnuPG.</li>
                            <li><code>gpg-connect-agent "keyinfo --list" /bye</code>: Muestra información sobre las claves disponibles.</li>
                            <li><code>gpg-connect-agent "scd serialno" /bye</code>: Consulta el número de serie del dispositivo.</li>
                            <li><code>gpg --export-ssh-key XXXXXXXXXXXXXX!</code>: Exporta la clave pública en formato SSH.</li>
                        </ul>

                        <br>
                        <p><span class="text-bold text-italic" style="color: darkgreen">Nota</span>: En la yubikey, si se carga una clave y certificado RSA2048 en la funcionalidad <span class="text-bold">PIV (Slot 9A)</span>, el <code>gpg-agent</code> puede leerlo y usarlo en la conexión SSH.</p>

                        <br /><br />
                        <hr />

                        <!-- Conexiones SSH -->
                        <h2 id="conexion-ssh">Conexiones SSH</h2>
                        <p>
                            Estas configuraciones son esenciales para el uso de la Yubikey. Se puede averiguar el path del comando <code>ssh</code> en Windows con: <code>(Get-Command ssh).path</code>
                        </p>
                        <ul>
                            <li><span style="font-weight: bold">En Windows:</span><code>%APPDATA%/.ssh/*</code>, <code>C:/Users/{userX}/.ssh/*</code> (Se puede usar PIV u OpenPGP)</li>
                        </ul>

                        <table class="table-css">
                            <thead>
                                <tr>
                                    <td>Setting</td>
                                    <td>Link</td>
                                    <td>Copiado Rápido</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <code>config</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('ssh_config.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('ssh_config.txt', this, true)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('ssh_config.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <p>
                            Por último, se debe exportar la clave pública de cada llave que se vaya a utilizar con: <code>gpg --export-ssh-key XXXXXXXXXXXXXX!</code>. El resultado se debe guardar en
                            un archivo dentro de <code>%APPDATA%/.ssh/</code> y referenciar ese archivo en el <code>config</code> usando la opción <code>IdentityFile</code>.
                        </p>

                        <br /><br />
                        <hr />

                        <!-- GitHub -->
                        <h2 id="github">GitHub</h2>
                        <p>
                            En Windows se debe instalar
                            <a target="_blank" rel="noopener noreferrer" href="https://git-scm.com/downloads">Git</a>
                            mientras que en linux se puede instalar con
                            <code>sudo apt install git</code>
                        </p>

                        <table class="table-css">
                            <thead>
                                <tr>
                                    <td>Setting</td>
                                    <td>Link</td>
                                    <td>Copiado Rápido</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>~/.gitconfig</code>, <code>C:/Users/{userX}/.gitconfig</code></td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('gitconfig.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('gitconfig.txt', this, true)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('gitconfig.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <p>
                            Recordar que para utilizar diferentes claves SSH en GitHub, se debe configurar previamente los Hosts en el archivo <code>~/.ssh/config</code> de SSH. Definiendo el
                            <span class="text-bold">IdentityFile</span> correspondiente para cada Host.
                        </p>

                        <br /><br />
                        <hr />

                        <!-- Funciones para Terminales -->
                        <h2 id="terminales">Funciones para Terminales</h2>
                        <br />
                        <h3 id="powershell">PowerShell</h3>
                        <p>
                            Editar con <code>code $PROFILE</code>. También se puede instalar
                            <a target="_blank" rel="noopener noreferrer" href="https://ohmyposh.dev/">Oh-My-Posh</a>
                        </p>

                        <table class="table-css">
                            <thead>
                                <tr>
                                    <td>Setting</td>
                                    <td>Link</td>
                                    <td>Copiado Rápido</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <code>profile.ps1</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('profile.ps1.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('profile.ps1.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('profile.ps1.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>Snazzy Theme</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('snazzy.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('snazzy.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('snazzy.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <br /><br />

                        <h3 id="bash">Terminal Bash</h3>
                        <p>
                            Editar con: <code>code ~/.bashrc</code> y luego recargar con:
                            <code>source ~/.bashrc</code>
                        </p>
                        <p>
                            Tambien se puede instalar
                            <a href="https://ohmyz.sh/" target="_blank" rel="noopener noreferrer">Oh My Zsh!</a>
                            de la siguiente forma:
                        </p>
                        <ol>
                            <li>Instalar <code>sudo apt install zsh git</code></li>
                            <li>
                                Configurar la terminal para usar <b>zsh</b>:
                                <code>chsh -s $(which zsh)</code>
                            </li>
                            <li>
                                Ejecutar el comando que indican en la
                                <a href="https://ohmyz.sh/#install" target="_blank" rel="noopener noreferrer">Web Oficial</a>:

                                <div class="code-box">
                                    <button class="copy-btn" onclick="copyCode(this)"></button>
                                    <pre style="margin-bottom: 0"><code>sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"</code></pre>
                                </div>
                            </li>
                            <li>
                                Instalar los plugins:
                                <a href="https://github.com/zsh-users/zsh-autosuggestions/blob/master/INSTALL.md" target="_blank" rel="noopener noreferrer">ZSH-AutoSuggestions</a>
                                y
                                <a href="https://github.com/zsh-users/zsh-syntax-highlighting/blob/master/INSTALL.md" target="_blank" rel="noopener noreferrer">ZSH-Syntax-HighLighting</a>:
                                <div class="code-box">
                                    <button class="copy-btn" onclick="copyCode(this)"></button>
                                    <pre style="margin-bottom: 0"><code>git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting</code></pre>
                                </div>
                            </li>
                            <li>
                                Habilitar los modulos en
                                <code>.zshrc</code> colocando: <code>plugins=(git zsh-autosuggestions zsh-syntax-highlighting)</code>.
                            </li>
                            <li>
                                Instalar las fuentes para los iconos:
                                <a href="https://github.com/ryanoasis/nerd-fonts/tree/master/patched-fonts/FiraMono" target="_blank" rel="noopener noreferrer">FiraMono > Regular</a>
                            </li>
                            <li>
                                Instalar el tema
                                <a href="https://github.com/romkatv/powerlevel10k" target="_blank" rel="noopener noreferrer">PowerLevel10K</a>.
                                <div class="code-box">
                                    <button class="copy-btn" onclick="copyCode(this)"></button>
                                    <pre
                                        style="margin-bottom: 0"
                                    ><code>git clone --depth=1 https://github.com/romkatv/powerlevel10k.git "${ZSH_CUSTOM:-$HOME}/.oh-my-zsh/custom/themes/powerlevel10k"</code></pre>
                                </div>
                            </li>
                            <li>
                                Volver a editar el <code>.zshrc</code> y configurar:
                                <code>ZSH_THEME="powerlevel10k/powerlevel10k"</code>
                            </li>
                        </ol>
                        Dependiendo de la configuracion elegida, si se utilizo
                        <b>Oh My Zsh!</b> se cargaran las funciones en <code>.zshrc</code>, en caso contrario, será en <code>.bashrc</code>. <br /><br />

                        <table class="table-css">
                            <thead>
                                <tr>
                                    <td>Setting</td>
                                    <td>Link</td>
                                    <td>Copiado Rápido</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>.bashrc</code> <code>.zshrc</code></td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('bashrc.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('bashrc.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('bashrc.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <br /><br />
                        <hr />

                        <!-- SSH-Server -->
                        <h2 id="ssh-server">SSH-Server</h2>
                        <p>Las siguientes configuraciones se deberán cargar en <code>/etc/ssh/sshd_config.d/chris.conf</code> luego de instalar el paquete <code>ssh-server</code></p>

                        <table class="table-css">
                            <thead>
                                <tr>
                                    <td>Setting</td>
                                    <td>Link</td>
                                    <td>Copiado Rápido</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <code>chris.conf</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('ssh_server.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('ssh_server.txt', this, true)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('ssh_server.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <br /><br />

                        <h4>
                            <span style="font-style: italic; color: darkolivegreen">Mensajes de Bienvenida</span>
                        </h4>
                        <p>
                            Se dejará en la ruta:
                            <code>/etc/ssh/chris_intro</code>.
                        </p>

                        <table class="table-css">
                            <thead>
                                <tr>
                                    <td>Setting</td>
                                    <td>Link</td>
                                    <td>Copiado Rápido</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <code>chris_intro (Personal)</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('chris_intro_personal.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('chris_intro_personal.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('chris_intro_personal.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>chris_intro (Server)</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('chris_intro_server.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('chris_intro_server.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('chris_intro_server.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <br />

                        <h4>
                            <span style="font-style: italic; color: darkolivegreen">Mensajes Post-Login</span>
                        </h4>
                        <p>
                            Estos scripts se alojan en
                            <code>/etc/update-mot.d/*</code>.
                        </p>

                        <table class="table-css">
                            <thead>
                                <tr>
                                    <td>Setting</td>
                                    <td>Link</td>
                                    <td>Copiado Rápido</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <code>00-header (Server)</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('00_header_server.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('00_header_server.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('00_header_server.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>00-header (Maquinas)</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('00_header_maquinas.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('00_header_maquinas.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('00_header_maquinas.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>20-system (Server)</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('20_system_server.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('20_system_server.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('20_system_server.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>20-system (Maquinas)</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('20_system_maquinas.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('20_system_maquinas.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('20_system_maquinas.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <br /><br />
                        <hr />

                        <!-- Firmas para Thunderbird -->
                        <h2 id="firmas-thunderbird">Firmas para Thunderbird</h2>

                        <table class="table-css">
                            <thead>
                                <tr>
                                    <td>Setting</td>
                                    <td>Link</td>
                                    <td>Copiado Rápido</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <code>Firma Personal</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('firma_personal.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('firma_personal.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('firma_personal.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>Firma LEME</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('firma_leme.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('firma_leme.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('firma_leme.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <br /><br />
                        <hr />

                        <!-- Firmas Digitales -->
                        <h2 id="firma-digital">Firmas Digitales</h2>

                        <table class="table-css">
                            <thead>
                                <tr>
                                    <td>Modelo</td>
                                    <td>Descarga</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <code>Trazo Blanco (Completo)</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('trazo_blanco_completo.pdf.asc', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopyPDF('trazo_blanco_completo.pdf.asc', this, true)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>Trazo Blanco (Solo Nombre)</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('trazo_blanco_solo_nombre.pdf.asc', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopyPDF('trazo_blanco_solo_nombre.pdf.asc', this, true)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>Trazo Negro (Completo)</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('trazo_negro_completo.pdf.asc', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopyPDF('trazo_negro_completo.pdf.asc', this, true)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>Trazo Negro (Solo Nombre)</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('trazo_negro_solo_nombre.pdf.asc', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopyPDF('trazo_negro_solo_nombre.pdf.asc', this, true)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <br /><br />
                        <hr />

                        <!-- Auriculares KZ Pr1 Pro -->
                        <h2 id="auriculares">Auriculares KZ Pr1 Pro</h2>
                        <p>Se requiere instalar lo siguiente:</p>
                        <ul>
                            <li>
                                <span style="font-weight: bold">Windows:</span> <a href="https://sourceforge.net/projects/equalizerapo/" target="_blank" rel="noopener noreferrer">APO Equalizer</a> y
                                también <a href="https://sourceforge.net/projects/peace-equalizer-apo-extension/" target="_blank" rel="noopener noreferrer">Peace</a>.
                            </li>
                        </ul>
                        <table class="table-css">
                            <thead>
                                <tr>
                                    <td>Setting</td>
                                    <td>Link</td>
                                    <td>Copiado Rápido</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <span style="font-size: 1.1em; color: #ff95a7; font-style: italic">Ecualización con 9 Filtros</span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('kz_pr1_pro_9eq.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>

                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('kz_pr1_pro_9eq.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('kz_pr1_pro_9eq.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <span style="font-size: 1.1em; color: #ff95a7; font-style: italic">Ecualización con 12 Filtros</span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('kz_pr1_pro_12eq.txt', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('kz_pr1_pro_12eq.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('kz_pr1_pro_12eq.txt', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <br />
                        <hr />
                        <br />

                        <!-- Prusa Slicer -->
                        <h2 id="prusaslicer">PrusaSlicer</h2>
                        <p>
                            Ante una nueva instalación de <a href="https://www.prusa3d.com/es/pagina/prusaslicer_424/" target="_blank" rel="noopener noreferrer">PrusaSlicer</a>, simplemente cargar el
                            archivo <code>Conjunto de Ajustes.ini</code> usando las siguiente opción del menú: <code>Archivo > Importar Conjunto de Ajustes</code>
                        </p>
                        <table class="table-css">
                            <thead>
                                <tr>
                                    <td>Setting</td>
                                    <td>Link</td>
                                    <td>Copiado Rápido</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <code>Configuraciones.ini</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('prusaslicer_config.ini', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>

                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('prusaslicer_config.ini', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('prusaslicer_config.ini', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>Paquete de Conf. (Con Impresoras Fisicas).ini</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('prusaslicer_paquete_config.ini', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('prusaslicer_paquete_config.ini', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('prusaslicer_paquete_config.ini', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>Conjunto de Ajustes.ini</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('prusaslicer_conjunto_ajustes.ini', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('prusaslicer_conjunto_ajustes.ini', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('prusaslicer_conjunto_ajustes.ini', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>auto0.gcode</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('auto0.g', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>
                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('auto0.g', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('auto0.g', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                        <br />
                        <hr />
                        <br />

                        <!-- Visual Studio Code -->
                        <h2 id="vscode">Visual Studio Code</h2>
                        <p>
                            Atajos del teclado, snippets y configuraciones para el editor de código
                            <a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer">Visual Studio Code</a>.
                        </p>
                        <table class="table-css">
                            <thead>
                                <tr>
                                    <td>Setting</td>
                                    <td>Link</td>
                                    <td>Copiado Rápido</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <code>settings.json</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('vscode_settings.json', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>

                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('vscode_settings.json', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('vscode_settings.json', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>keybindings.json</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('vscode_keybindings.json', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>

                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('vscode_keybindings.json', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('vscode_keybindings.json', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>Básico.code-profile</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('Basico.code-profile', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>

                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('Basico.code-profile', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('Basico.code-profile', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>Platform-IO.code-profile</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('Platform-IO.code-profile', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>

                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('Platform-IO.code-profile', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('Platform-IO.code-profile', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <code>Webs.code-profile</code>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('Webs.code-profile', this)">
                                            <span class="material-symbols-outlined icon-element">download</span>
                                        </span>

                                        <span class="icon alt major icon-content" onclick="btnCurlCopy('Webs.code-profile', this, false)">
                                            <span class="material-symbols-outlined icon-element">keyboard_command_key</span>
                                        </span>
                                    </td>
                                    <td>
                                        <span class="icon alt major icon-content" onclick="downloadFile('Webs.code-profile', this, false)">
                                            <span class="material-symbols-outlined icon-element">content_copy</span>
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </section>
                </div>
            </div>

            <!-- Footer -->
            <footer id="footer"></footer>
        </div>

        <!-- Scripts -->
        <script>
            /**
             * Insercion del footer
             */
            fetch("/bunker/footer.html").then((response) => {
                response.text().then((data) => {
                    document.getElementById("footer").innerHTML = data;
                });
            });

            /**
             * Delay utilizando promesas
             *
             * @param {int} ms - Tiempo en milisegundos
             */
            const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));

            /**
             *  Permite copiar el contenido del padre del button que
             *  llama a la funcion (un <code>)
             *
             * @param {HTMLButtonElement} button - El elemento "boton" que llama a la función
             */
            async function copyCode(button) {
                const code = button.closest(".code-box").querySelector("code").textContent;

                try {
                    await navigator.clipboard.writeText(code);
                    button.classList.add("pressed");
                    await delay(2000);
                    button.classList.remove("pressed");
                } catch (err) {
                    console.error("Error al copiar: ", err);
                }
            }

            /**
             *  Permite cargar al portapapeles la sintaxis del comando CURL
             *
             * @param {string} fileName - Nombre del archivo a usar
             * @param {HTMLSpanElement} span - El elemento "span" que llama a la función
             * @param {boolean} - isEncrypt - Su es true, agrega la sintaxis de gpg
             */
            async function btnCurlCopy(fileName, span, isEncrypt) {
                // Armo el comando
                let cmd = `curl -fsSL https://christianherrera.com.ar/settings/${fileName}`;
                if (isEncrypt) {
                    cmd += " | gpg -d -";
                }

                try {
                    // Copia al portapapeles.
                    await navigator.clipboard.writeText(cmd);

                    // Animación de inicio
                    const icon = span.children[0];
                    icon.textContent = "check";
                    icon.classList.add("icon-anim");
                    span.classList.add("bg-anim");

                    // Esperamos a que la animación termine antes de continuar.
                    await new Promise((resolve) => icon.addEventListener("animationend", resolve, { once: true }));

                    // Animación de fin
                    icon.classList.remove("icon-anim");
                    await delay(2000);

                    icon.textContent = "keyboard_command_key";
                    icon.classList.add("icon-anim");
                    span.classList.remove("bg-anim");
                } catch (err) {
                    console.error("Error al copiar: ", err);
                }
            }

            /**
             *  Permite cargar al portapapeles la sintaxis del comando CURL (Para archivos PDF)
             *
             * @param {string} fileName - Nombre del archivo a usar
             * @param {HTMLSpanElement} span - El elemento "span" que llama a la función
             * @param {boolean} - isEncrypt - Su es true, agrega la sintaxis de gpg
             */
            async function btnCurlCopyPDF(fileName, span, isEncrypt) {
                // Armo el comando
                let cmd = `curl -fsSL https://christianherrera.com.ar/settings/${fileName}`;
                fileName = fileName.replace(".pdf.asc", ".pdf");
                if (isEncrypt) {
                    cmd += ` | gpg -o ${fileName} -d -`;
                }

                try {
                    // Copia al portapapeles.
                    await navigator.clipboard.writeText(cmd);

                    // Animación de inicio
                    const icon = span.children[0];
                    icon.textContent = "check";
                    icon.classList.add("icon-anim");
                    span.classList.add("bg-anim");

                    // Esperamos a que la animación termine antes de continuar.
                    await new Promise((resolve) => icon.addEventListener("animationend", resolve, { once: true }));

                    // Animación de fin
                    icon.classList.remove("icon-anim");
                    await delay(2000);

                    icon.textContent = "keyboard_command_key";
                    icon.classList.add("icon-anim");
                    span.classList.remove("bg-anim");
                } catch (err) {
                    console.error("Error al copiar: ", err);
                }
            }

            /**
             * Permite descargar o copiar el contenido de un archivo.
             *
             * @param {string} fileName - Nombre del archivo (debe existir)
             * @param {HTMLSpanElement} span - Elemento "span" que llama a la función
             * @param {string} isDownload - True realiza la descarga, False permite copiar al portapapeles
             */
            async function downloadFile(fileName, span, isDownload = true) {
                try {
                    const response = await fetch(`/settings/${fileName}`);
                    if (!response.ok) throw new Error("No se encontró el archivo!");

                    const data = await response.text();
                    const icon = span.children[0];

                    // Animación (inicio)
                    icon.textContent = "check";
                    icon.classList.add("icon-anim");
                    span.classList.add("bg-anim");

                    if (!isDownload) {
                        await navigator.clipboard.writeText(data);
                    }

                    await new Promise((resolve) => span.addEventListener("animationend", resolve, { once: true }));
                    icon.classList.remove("icon-anim");

                    // 2s
                    await delay(2000);
                    icon.classList.add("icon-anim");
                    span.classList.remove("bg-anim");
                    icon.textContent = isDownload ? "download" : "content_copy";

                    if (isDownload) {
                        const enlace = document.createElement("a");
                        enlace.href = `/settings/${fileName}`;
                        enlace.download = fileName;
                        enlace.click();
                    }

                    // 500ms
                    await delay(500);

                    icon.classList.remove("icon-anim");
                } catch (err) {
                    console.error("Error:", err);
                    alert("No se pudo encontrar el archivo o realizar la acción.");
                }
            }
        </script>
        <script src="/assets/js/jquery.min.js"></script>
        <script src="/assets/js/jquery.scrolly.min.js"></script>
        <script src="/assets/js/jquery.dropotron.min.js"></script>
        <script src="/assets/js/jquery.scrollex.min.js"></script>
        <script src="/assets/js/browser.min.js"></script>
        <script src="/assets/js/breakpoints.min.js"></script>
        <script src="/assets/js/util.js"></script>
        <script src="/assets/js/main-complete.js"></script>
    </body>
</html>
